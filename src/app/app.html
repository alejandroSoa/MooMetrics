<ion-app>
  <!-- Auth Pages - Full Screen -->
  <div *ngIf="isAuthPage()" class="auth-layout">
    <router-outlet></router-outlet>
  </div>

  <!-- Main App Layout - With Sidebar -->
  <div *ngIf="!isAuthPage()" class="app-container">
    <!-- Persistent Sidebar -->
    <div class="persistent-sidebar">
      <!-- Logo -->
      <div class="logo">
        <div class="logo-icon">
          <span>MO</span>
          <span>ME</span>
        </div>
      </div>
      
      <!-- Admin Mode Toggle -->
      <div class="admin-toggle">
        <div class="admin-toggle-icon" (click)="toggleAdminMode()">
          <fa-icon [icon]="faUserShield"></fa-icon>
        </div>
        <div class="toggle-switch" (click)="toggleAdminMode()">
          <fa-icon [icon]="isAdminMode() ? faToggleOn : faToggleOff" 
                   [ngClass]="{'toggle-on': isAdminMode(), 'toggle-off': !isAdminMode()}"></fa-icon>
        </div>
      </div>
      
      <!-- Navigation Icons - Normal Mode -->
      <div class="nav-icons" *ngIf="!isAdminMode()">
        <div class="nav-icon-container">
          <div class="nav-active-indicator" *ngIf="isActive('/home')"></div>
          <a class="nav-icon" [routerLink]="['/home']">
            <fa-icon [icon]="faUsers"></fa-icon>
          </a>
        </div>

        <div class="nav-icon-container">
          <div class="nav-active-indicator" *ngIf="isActive('/notifications')"></div>
          <a class="nav-icon" [routerLink]="['/notifications']">
            <fa-icon [icon]="faBell"></fa-icon>
          </a>
        </div>
      </div>

      <!-- Navigation Icons - Admin Mode -->
      <div class="nav-icons" *ngIf="isAdminMode()">
        <div class="nav-icon-container">
          <div class="nav-active-indicator" *ngIf="isExactActive('/admin')"></div>
          <a class="nav-icon" [routerLink]="['/admin']">
            <fa-icon [icon]="faChartLine"></fa-icon>
          </a>
        </div>

        <div class="nav-icon-container">
          <div class="nav-active-indicator" *ngIf="isActive('/admin/users')"></div>
          <a class="nav-icon" [routerLink]="['/admin/users']">
            <fa-icon [icon]="faUsers"></fa-icon>
          </a>
        </div>

        <div class="nav-icon-container">
          <div class="nav-active-indicator" *ngIf="isActive('/admin/roles')"></div>
          <a class="nav-icon" [routerLink]="['/admin/roles']">
            <fa-icon [icon]="faUserTag"></fa-icon>
          </a>
        </div>
      </div>
    </div>

    <!-- Main Content Area -->
    <div class="main-content-area">
      <router-outlet></router-outlet>
    </div>
  </div>
</ion-app>